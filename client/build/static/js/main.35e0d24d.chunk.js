(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(60)},37:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(28),i=n.n(r),l=(n(37),n(29)),c=n(6);var s=function(e){return a.a.createElement("nav",{className:"navbar navbar-dark bg-primary"},a.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books Search"),a.a.createElement("div",{className:"navbar-nav"},a.a.createElement("a",{className:"nav-item nav-link",href:"/search"},"Search"),a.a.createElement("a",{className:"nav-item nav-link",href:"/saved"},"Saved")))},u=n(10),d=n(11),h=n(13),v=n(12),m=n(14);var f=function(e){return a.a.createElement("div",null,a.a.createElement("form",{onSubmit:e.handleSubmit},a.a.createElement("label",{htmlFor:"searchField"},"Search: "),a.a.createElement("input",{type:"text",id:"searchField",value:e.searchString,onChange:e.handleChange}),a.a.createElement("button",{type:"submit"},"Search")))};var k=function(e){var t=e.dataid,n=e.handleClick,o=e.text;return a.a.createElement("button",{dataid:t,onClick:n},o)};var b=function(e){var t=e.book,n=t.bookId,o=void 0===n?"":n,r=t.title,i=void 0===r?"(No Title)":r,l=t.subtitle,c=void 0===l?"":l,s=t.authors,u=void 0===s?[]:s,d=t.description,h=void 0===d?"":d,v=t.image,m=void 0===v?"":v,f=t.link,b=void 0===f?"":f,g=e.handleActionButtonClick,p=e.actionButtonText;return a.a.createElement("div",{className:"row my-3"},a.a.createElement("div",{className:"col-12 col-md-4 col-lg-2"},a.a.createElement("a",{href:b,target:"about:blank"},a.a.createElement("img",{src:m,alt:i}))),a.a.createElement("div",{className:"col"},a.a.createElement("a",{href:b,target:"about:blank"},a.a.createElement("h3",null,i),a.a.createElement("h4",null,c)),a.a.createElement(k,{dataid:o,handleClick:g,text:p}),a.a.createElement("p",null,a.a.createElement("strong",null,u.toString())),a.a.createElement("p",null,h)))};var g=function(e){var t=e.books,n=void 0===t?[]:t,o=e.handleActionButtonClick,r=void 0===o?null:o,i=e.actionButtonText,l=void 0===i?"":i;return n.length>0?a.a.createElement("div",{role:"list"},n.map(function(e,t){return a.a.createElement("div",{role:"listitem",key:t},a.a.createElement(b,{book:e,handleActionButtonClick:r,actionButtonText:l}),t<n.length-1?a.a.createElement("hr",null):"")})):a.a.createElement("h4",null,"No Books To Display")},p=n(9),E=n.n(p),w="http://localhost:3001",B={findBooks:function(e,t){E.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&key=").concat("AIzaSyDN2taYwD5rUOTnXEVucFgo1tcI6Nvonpk")).then(function(e){return t(null,e)}).catch(function(e){return t(e)})},getSavedBooks:function(e){E.a.get("".concat(w,"/api/books")).then(function(t){return e(null,t)}).catch(function(t){return e(t)})},saveBook:function(e,t){E.a.post("".concat(w,"/api/books"),{book:e}).then(function(e){return t(null,e)}).catch(function(e){return t(e)})},deleteBook:function(e,t){E.a.delete("".concat(w,"/api/books/").concat(e)).then(function(e){return t(null,e)}).catch(function(e){return t(e)})},parseGoogleBooksResponse:function(e){var t=e.data,n=(t=void 0===t?null:t).items;return(void 0===n?[]:n).map(function(e){var t=e.id,n=void 0===t?"":t,o=e.volumeInfo,a=(o=void 0===o?null:o).title,r=void 0===a?"(No Title)":a,i=o.subtitle,l=void 0===i?"":i,c=o.authors,s=void 0===c?[]:c,u=o.description,d=void 0===u?"":u,h=o.infoLink,v=void 0===h?"":h,m=o.imageLinks,f=(m=void 0===m?null:m).thumbnail;return{bookId:n,title:r,subtitle:l,authors:s,description:d,image:void 0===f?"":f,link:v}})}},S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={searchString:"",books:[]},n.handleChange=function(e){return n.setState({searchString:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),B.findBooks(n.state.searchString,function(e,t){if(e)return console.error(e);n.setState({books:B.parseGoogleBooksResponse(t)}),console.log(n.state.books)})},n.handleSaveButtonClick=function(e){e.preventDefault();var t=e.target.getAttribute("dataid"),o=n.state.books.find(function(e){return e.bookId===t});console.log("Book ID: "+t),B.saveBook(o,function(e,t){if(e)return console.error(e);console.log(t)})},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("h2",null,"Search"),a.a.createElement(f,{searchString:this.state.searchString,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),a.a.createElement("br",null),a.a.createElement("h3",null,"Results"),a.a.createElement("p",null,"Click on a book's title to view it on Google Books. Click the Save button to add the book to your saved books."),a.a.createElement(g,{books:this.state.books,handleActionButtonClick:this.handleSaveButtonClick,actionButtonText:"Save"}))}}]),t}(a.a.Component),C=function(e){function t(){var e,n;Object(u.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={books:[]},n.handleDeleteButtonClick=function(e){e.preventDefault();var t=e.target.getAttribute("dataid");B.deleteBook(t,function(e,t){if(e)return console.error(e);n.refresh()})},n.refresh=function(){B.getSavedBooks(function(e,t){if(e)return console.error(e);var o=t.data,a=void 0===o?[]:o;n.setState({books:a}),console.log(t)})},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("h2",null,"My Saved Books"),a.a.createElement("br",null),a.a.createElement("p",null,"Click on a book to view it on Google Books. Click the Delete button to remove it from your saved book list."),a.a.createElement(g,{books:this.state.books,handleActionButtonClick:this.handleDeleteButtonClick,actionButtonText:"Delete"}))}}]),t}(a.a.Component);var y=function(){return a.a.createElement(l.a,null,a.a.createElement("div",{className:"App"},a.a.createElement(s,null),a.a.createElement(c.a,{exact:!0,path:"/",component:S}),a.a.createElement(c.a,{exact:!0,path:"/search",component:S}),a.a.createElement(c.a,{exact:!0,path:"/saved",component:C})))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(a.a.createElement(y,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");N?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):x(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):x(e)})}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.35e0d24d.chunk.js.map